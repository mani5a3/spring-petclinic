name: "Java_Maven_Gradle_Workflow"

on:
  workflow_dispatch:

jobs:
  reuse-java-worflow:
    uses: mani5a3/github_actions_poc/.github/workflows/java-maven-gradle-workflow.yaml@main
    with:
      java_version: "8"
      build_tool: "maven"
      maven_goals: "clean install"
      Sonar_ProjectKey: "petclinic_github_actions"
      Sonar_ProjectName: "petclinic_github_actions"
      Sonar_ProjectVersion: "1.0"
      runner: "windows"
      Sonar_JavaSource: "8"
      Sonar_HostUrl: "http://localhost:9000"
      Sonar_sources: "src/main/java"
      Sonar_tests: "src/test/java"
      Sonar_Javabinaries: "target/classes"
      Sonar_Jacaco_ReportPaths: "target/site/jacoco/jacoco.xml"
      Sonar_Junit_ReportPaths: "target/surefire-reports"
# secrets: inherit pulls secrets from the calling workflowâ€™s context and makes them available to the reusable workflow.
    secrets:
      Jfrog_Username: "admin"
      Jfrog_Password: "password"
      Sonar_Username: "admin"
      Sonar_Password: "admin123"